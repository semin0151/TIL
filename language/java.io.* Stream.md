# ðŸ§­ Stream, InputStream, OutputStreamì˜ ì„¤ê³„ ì² í•™

## 1. ê°œìš”

`Stream`ì€ Javaì—ì„œ **ë°ì´í„°ì˜ íë¦„(Flow)** ì„ í‘œí˜„í•˜ëŠ” ì¶”ìƒí™” ê°œë…ìœ¼ë¡œ,

JVMì´ **OSì˜ ìž…ì¶œë ¥ ì‹œìŠ¤í…œ(íŒŒì¼, ë„¤íŠ¸ì›Œí¬, ë””ë°”ì´ìŠ¤ ë“±)** ê³¼ í†µì‹ í•˜ê¸° ìœ„í•œ í†µì¼ëœ ì¸í„°íŽ˜ì´ìŠ¤ì´ë‹¤.

ì¦‰,

> Stream = â€œJVM â†” OS ê°„ ë°ì´í„° í†µë¡œâ€ë¥¼ ì˜ë¯¸í•˜ë©°,
> 
> 
> ëª¨ë“  ìž…ì¶œë ¥ì˜ ê·¼ë³¸ì ì¸ ì² í•™ì  ë‹¨ìœ„ì´ë‹¤.
> 

---

## 2. ì„¤ê³„ ì² í•™ ìš”ì•½

| í•­ëª© | ì² í•™ì  ì˜ì˜ |
| --- | --- |
| **Stream** | OS ë ˆë²¨ì˜ ìž…ì¶œë ¥(I/O)ì„ JVM ìˆ˜ì¤€ìœ¼ë¡œ ì¶”ìƒí™”í•œ â€œë°ì´í„° íë¦„ì˜ í†µë¡œâ€ |
| **InputStream / OutputStream** | ì½ê¸°(read)ì™€ ì“°ê¸°(write)ì˜ ë‹¨ë°©í–¥ ë°ì´í„° íë¦„ì„ ëª…í™•ížˆ êµ¬ë¶„ |
| **Closeable ìƒì† ì´ìœ ** | OS ë‹¨ì˜ ë¦¬ì†ŒìŠ¤(fd, socket ë“±)ì„ ëª…ì‹œì ìœ¼ë¡œ í•´ì œ(close)í•˜ê¸° ìœ„í•œ ê³„ì•½(Contract) |
| **ì¶”ìƒ í´ëž˜ìŠ¤ì¸ ì´ìœ ** | íŒŒì¼, ë„¤íŠ¸ì›Œí¬, ë©”ëª¨ë¦¬ ë“± ë‹¤ì–‘í•œ ë°ì´í„° ì†ŒìŠ¤ë¥¼ ë™ì¼í•œ ì¸í„°íŽ˜ì´ìŠ¤ë¡œ ë‹¤ë£¨ê¸° ìœ„í•´ |
| **flushì˜ ì¡´ìž¬ ì´ìœ ** | ì§€ì—°ëœ I/Oë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì»¤ë°‹(Commit)ì‹œì¼œ ë…¼ë¦¬ì  ìƒíƒœì™€ ë¬¼ë¦¬ì  ìƒíƒœë¥¼ ì¼ì¹˜ì‹œí‚¤ê¸° ìœ„í•´ |

---

## 3. Streamì˜ ì² í•™ì  ì˜ë¯¸

### ðŸ’¡ Streamì€ â€œë°ì´í„°ì˜ íë¦„(Flow)â€ì„ ì¶”ìƒí™”í•œ êµ¬ì¡°ì´ë‹¤.

Javaì˜ ì„¤ê³„ ì² í•™ì€ **â€œëª¨ë“  ìž…ì¶œë ¥ì€ Streamì„ í†µí•´ ì´ë£¨ì–´ì§„ë‹¤â€** ì´ë‹¤.

ì¦‰, íŒŒì¼ì´ë“  ë„¤íŠ¸ì›Œí¬ë“ , ë””ë°”ì´ìŠ¤ë“  ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ë‹¤ë£° ìˆ˜ ìžˆë„ë¡

ë°ì´í„°ë¥¼ â€˜íë¦„(Stream)â€™ì´ë¼ëŠ” ê°œë…ìœ¼ë¡œ í†µì¼í–ˆë‹¤.

| ì‹¤ì œ ë¦¬ì†ŒìŠ¤ | Stream êµ¬í˜„ì²´ | OS ë ˆë²¨ ë§¤í•‘ |
| --- | --- | --- |
| íŒŒì¼ | FileInputStream / FileOutputStream | file descriptor (fd) |
| ë„¤íŠ¸ì›Œí¬ ì†Œì¼“ | SocketInputStream / SocketOutputStream | socket fd |
| íŒŒì´í”„ | PipedInputStream / PipedOutputStream | pipe fd |
| ë©”ëª¨ë¦¬ | ByteArrayInputStream / ByteArrayOutputStream | (JVM heap ë©”ëª¨ë¦¬) |

ì¦‰,

> Streamì€ â€œJVMì´ OSì˜ I/O ì‹œìŠ¤í…œê³¼ ì†Œí†µí•˜ê¸° ìœ„í•œ í‘œì¤€í™”ëœ í†µë¡œâ€ë‹¤.
> 

---

## 4. Closeableì˜ ì² í•™

Streamì´ OS ë¦¬ì†ŒìŠ¤ì™€ ì—°ê²°ëœ ì´ìƒ,

ê·¸ í†µë¡œ(fd)ëŠ” ì»¤ë„ì— ì˜í•´ ê´€ë¦¬ë˜ë©° **ìœ í•œí•œ ë¦¬ì†ŒìŠ¤**ì´ë‹¤.

`Closeable`ì„ ìƒì†í•œ ì´ìœ ëŠ” ëª…í™•í•˜ë‹¤ ðŸ‘‡

> â€œStreamì´ ì—´ë¦¬ë©´ OSì— ë¦¬ì†ŒìŠ¤ê°€ ë“±ë¡ë˜ê³ ,
> 
> 
> close()ëŠ” ê·¸ ë¦¬ì†ŒìŠ¤ë¥¼ OSì— ë°˜ë‚©í•œë‹¤.â€
> 

| ë‹¨ê³„ | ë™ìž‘ | ëŒ€ì‘ë˜ëŠ” OS ë™ìž‘ |
| --- | --- | --- |
| Stream ìƒì„± | OSì— open() syscall í˜¸ì¶œ | fd í• ë‹¹ |
| ë°ì´í„° I/O | read()/write() í˜¸ì¶œ | ì»¤ë„ ë²„í¼ë¥¼ í†µí•œ I/O |
| close() í˜¸ì¶œ | OSì— close(fd) syscall | fd í•´ì œ, ì»¤ë„ ë¦¬ì†ŒìŠ¤ ë°˜ë‚© |

ì¦‰,

> close() = â€˜JVMì´ OSì—ê²Œ ì´ì œ ì´ í†µë¡œ(fd)ë¥¼ ë‹«ì•„ë„ ì¢‹ìŠµë‹ˆë‹¤â€™ ë¼ëŠ” ì‹ í˜¸ë‹¤.
> 

---

## 5. ë‹¨ë°©í–¥ êµ¬ì¡°ì˜ ì´ìœ 

JavaëŠ” Streamì„ **ë‹¨ë°©í–¥(one-way)** ìœ¼ë¡œ ì„¤ê³„í–ˆë‹¤.

ìž…ë ¥ê³¼ ì¶œë ¥ì„ ëª…í™•ížˆ ë¶„ë¦¬í•¨ìœ¼ë¡œì¨,

ë°ì´í„° íë¦„ì˜ ì±…ìž„ì„ ëª…í™•ížˆ í•˜ê³  ì˜ˆì¸¡ ê°€ëŠ¥í•œ I/Oë¥¼ ë³´ìž¥í•˜ê¸° ìœ„í•¨ì´ë‹¤.

| í´ëž˜ìŠ¤ | ë°©í–¥ | ì£¼ìš” ë©”ì„œë“œ |
| --- | --- | --- |
| InputStream | ìž…ë ¥ (read) | `read()`, `read(byte[])` |
| OutputStream | ì¶œë ¥ (write) | `write()`, `flush()`, `close()` |

ì´ êµ¬ì¡°ëŠ” **â€œë°ì´í„°ëŠ” í•œ ë°©í–¥ìœ¼ë¡œë§Œ íë¥¸ë‹¤â€**ëŠ” ì² í•™ì„ ë°˜ì˜í•œë‹¤.

â†’ ì–‘ë°©í–¥ í†µì‹ (Socket ë“±)ë„ ë‚´ë¶€ì ìœ¼ë¡œ **InputStream + OutputStream** ìŒìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤.

---

## 6. flushì˜ ì² í•™ì  ì˜ë¯¸

flushëŠ” ë‹¨ìˆœížˆ â€œë²„í¼ë¥¼ ë¹„ìš´ë‹¤â€ê°€ ì•„ë‹ˆë‹¤.

> â€œì§€ì—°ëœ I/Oë¥¼ ì¦‰ì‹œ ìˆ˜í–‰í•˜ì—¬ ë…¼ë¦¬ì  ìƒíƒœì™€ ë¬¼ë¦¬ì  ìƒíƒœë¥¼ ì¼ì¹˜ì‹œí‚¤ëŠ” í–‰ìœ„â€ ì´ë‹¤.
> 

ë°ì´í„°ëŠ” ì—¬ëŸ¬ ë‹¨ê³„ì˜ ë²„í¼ë¥¼ ê±°ì¹œë‹¤:

```
[ì•± ì½”ë“œ] â†’ [JVM ë²„í¼] â†’ [OS ì»¤ë„ ë²„í¼] â†’ [ë””ìŠ¤í¬/ë„¤íŠ¸ì›Œí¬]

```

| ê³„ì¸µ | flush ëŒ€ìƒ | ëŒ€í‘œ ë©”ì„œë“œ |
| --- | --- | --- |
| JVM ë²„í¼ | BufferedOutputStream | `flush()` |
| OS ë²„í¼ | FileDescriptor | `sync()` (`fsync(fd)`) |

ì¦‰, flushëŠ” â€œí˜„ìž¬ ê³„ì¸µì˜ ë°ì´í„°ë¥¼ ë‹¤ìŒ ê³„ì¸µìœ¼ë¡œ ê°•ì œ ì „ì†¡(commit)â€ í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.

> flush = â€œì´ì œ ì§„ì§œë¡œ ë³´ë‚´ë¼â€
> 
> 
> â†’ JVM ë²„í¼ë¥¼ OS ì»¤ë„ë¡œ, OS ë²„í¼ë¥¼ ë””ìŠ¤í¬ë¡œ ë‚´ë³´ë‚´ëŠ” íƒ€ì´ë° ì œì–´ ìˆ˜ë‹¨ì´ë‹¤.
> 

---

## 7. Stream ì¶”ìƒí™”ì˜ êµ¬ì¡°

```
            InputStream / OutputStream  â† ì¶”ìƒí™” ê³„ì¸µ (Closeable)
                         â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                   â”‚                     â”‚
FileInputStream     SocketInputStream     ByteArrayInputStream
(fd ê¸°ë°˜)            (fd ê¸°ë°˜)              (ë©”ëª¨ë¦¬ ê¸°ë°˜)
```

ëª¨ë“  Streamì€ ë™ì¼í•œ ì¶”ìƒ ë©”ì„œë“œë¥¼ í†µí•´ ë™ìž‘í•˜ì§€ë§Œ,

ê° êµ¬í˜„ì²´ëŠ” ìžì‹ ì´ ë‹¤ë£¨ëŠ” ë¦¬ì†ŒìŠ¤(fd, socket, memory)ì— ë”°ë¼ ì‹¤ì œ I/O ë°©ì‹ì„ ë‹¤ë¥´ê²Œ ì •ì˜í•œë‹¤.

---

## 8. ì„¤ê³„ ì² í•™ ìš”ì•½

| í•­ëª© | ì˜ë¯¸ |
| --- | --- |
| **Stream** | ë°ì´í„° íë¦„(Flow)ì˜ ì¶”ìƒí™”. JVM â†” OS I/Oì˜ ë…¼ë¦¬ì  í†µë¡œ |
| **InputStream / OutputStream** | OSì˜ read/write ê°œë…ì„ ë¶„ë¦¬í•˜ì—¬ í‘œí˜„ |
| **Closeable** | OS ë¦¬ì†ŒìŠ¤(fd, socket ë“±)ì„ ëª…ì‹œì ìœ¼ë¡œ í•´ì œí•˜ëŠ” ê³„ì•½ |
| **flush()** | ì§€ì—°ëœ I/Oë¥¼ ì¦‰ì‹œ ì»¤ë°‹í•˜ì—¬ ë°ì´í„° ì¼ê´€ì„± ë³´ìž¥ |
| **ë‹¨ë°©í–¥ì„±** | ë°ì´í„° íë¦„ì˜ ì±…ìž„ê³¼ ì•ˆì •ì„±ì„ í™•ë³´í•˜ê¸° ìœ„í•œ êµ¬ì¡° |
| **ì¶”ìƒí™” ëª©ì ** | íŒŒì¼, ë„¤íŠ¸ì›Œí¬, ë©”ëª¨ë¦¬ ë“± ëª¨ë“  I/Oë¥¼ ì¼ê´€ëœ ì¸í„°íŽ˜ì´ìŠ¤ë¡œ ë‹¤ë£¨ê¸° ìœ„í•¨ |

---

## ðŸ§  9. ìš”ì•½ ë¬¸ìž¥

> Streamì€ â€œJVMê³¼ OS ì‚¬ì´ì˜ í†µë¡œâ€ì´ë©°,
> 
> 
> InputStreamê³¼ OutputStreamì€ ê·¸ í†µë¡œë¥¼ í†µí•´ ë°ì´í„°ë¥¼ â€œì½ê³ /ì“°ëŠ” ë°©í–¥â€ì„ ì •ì˜í•œë‹¤.
> 
> flush()ëŠ” ë°ì´í„°ë¥¼ ë‹¤ìŒ ê³„ì¸µìœ¼ë¡œ ì»¤ë°‹í•˜ëŠ” ì‹œì  ì œì–´ ë„êµ¬ì´ë©°,
> 
> close()ëŠ” OS ë¦¬ì†ŒìŠ¤ë¥¼ í•´ì œí•˜ëŠ” ëª…ì‹œì  ì¢…ë£Œ ì‹ í˜¸ë‹¤.
> 
> ê²°êµ­ Streamì€ â€œI/Oë¥¼ ì¼ê´€ëœ ì¶”ìƒí™”ë¡œ í‘œí˜„í•œ ê³„ì•½(Contract)â€ì´ë©°,
> 
> Javaì˜ ì¼ê´€ì„±ê³¼ ì•ˆì „ì„± ì² í•™ì„ ê°€ìž¥ ìž˜ ë³´ì—¬ì£¼ëŠ” êµ¬ì¡°ë‹¤.
>
