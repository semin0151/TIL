## ðŸ§© 1. Fileì˜ ì„¤ê³„ ì² í•™

> java.io.Fileì€ â€œíŒŒì¼ì˜ ë‚´ìš©(content)â€ì´ ì•„ë‹ˆë¼ â€œíŒŒì¼ ìžì²´(metadata)â€ë¥¼ ë‹¤ë£¨ëŠ” í´ëž˜ìŠ¤

ì¦‰,

- íŒŒì¼ì˜ ì¡´ìž¬, ì´ë¦„, ê²½ë¡œ, ê¶Œí•œ ë“± â€œíŒŒì¼ ì‹œìŠ¤í…œ ì •ë³´â€ë¥¼ ë‹¤ë£¨ë©°
- ì‹¤ì œ ë°ì´í„° ì½ê¸°/ì“°ê¸°ëŠ” `FileInputStream`, `FileOutputStream`(Stream ê³„ì—´)ì´ ë‹´ë‹¹í•©ë‹ˆë‹¤.

---

## âš™ï¸ 2. Fileê³¼ Streamì˜ ì—­í•  êµ¬ë¶„

| êµ¬ë¶„ | ì£¼ìš” í´ëž˜ìŠ¤ | ì—­í•  | ì‹¤ì œ I/O ë°œìƒ | ë¸”ë¡œí‚¹ ì—¬ë¶€ |
| --- | --- | --- | --- | --- |
| **íŒŒì¼ ì¡°ìž‘(ë©”íƒ€ë°ì´í„°)** | `File`, `Files`, `Path` | íŒŒì¼ ì´ë¦„, ê²½ë¡œ, ì‚­ì œ, ì´ë™, ê¶Œí•œ ê´€ë¦¬ | âŒ (metadata only) | âŒ |
| **ë°ì´í„° ìž…ì¶œë ¥** | `FileInputStream`, `FileOutputStream` | íŒŒì¼ì˜ ì‹¤ì œ ë‚´ìš© ì½ê¸°/ì“°ê¸° | âœ… (read/write syscall) | âœ… ê°€ëŠ¥ |

ðŸ“˜ ì¦‰,

`File`ì€ **OS íŒŒì¼ ì‹œìŠ¤í…œ í…Œì´ë¸”(inode, dentry)** ì¡°ìž‘,

`Stream`ì€ **ë””ìŠ¤í¬ ë°ì´í„° ë¸”ë¡ I/O** ë‹´ë‹¹.

---

## ðŸ§  3. File.delete()ì˜ ì‹¤ì œ ë™ìž‘ ê³¼ì •

> File.delete() â†’ OSì˜ unlink(path) syscall í˜¸ì¶œ
> 

### ë‚´ë¶€ ë‹¨ê³„

1. **ë””ë ‰í„°ë¦¬ ì—”íŠ¸ë¦¬ ì œê±°** (íŒŒì¼ ì´ë¦„ â†’ inode ì—°ê²° í•´ì œ)
2. **inode ì°¸ì¡° ì¹´ìš´íŠ¸ ê°ì†Œ**
3. **ì°¸ì¡°ê°€ 0ì´ë©´ ì»¤ë„ì´ ë””ìŠ¤í¬ ë¸”ë¡ í•´ì œ** (ë¹„ë™ê¸° ì²˜ë¦¬)

### ê²°ê³¼

- `delete()` í˜¸ì¶œ ì‹œì ì—ëŠ” íŒŒì¼ â€œì´ë¦„â€ë§Œ ì‚¬ë¼ì§
- íŒŒì¼ ë‚´ìš©(ë””ìŠ¤í¬ ë¸”ë¡)ì€ ì»¤ë„ì´ ë‚˜ì¤‘ì— ì •ë¦¬
- ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ ì—¬ì „ížˆ fdë¥¼ ì—´ê³  ìžˆìœ¼ë©´ ì‹¤ì œ ì‚­ì œëŠ” ì§€ì—°ë¨

ðŸ’¡ ì¦‰, ì‚­ì œëŠ” ë¹ ë¥´ì§€ë§Œ **ë””ìŠ¤í¬ ê³µê°„ íšŒìˆ˜ëŠ” ì§€ì—°ë  ìˆ˜ ìžˆìŒ.**

---

## âš™ï¸ 4. File ìž¬ìƒì„± ì‹œ ë™ìž‘

> ë™ì¼í•œ ê²½ë¡œë¡œ ìƒˆ íŒŒì¼ì„ write í•˜ë©´,
> 
> 
> **ê°™ì€ ì´ë¦„ì´ì§€ë§Œ ì™„ì „ížˆ ë‹¤ë¥¸ inode(ë©”íƒ€ë°ì´í„°)** ë¥¼ ê°€ì§„ ìƒˆ íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤.
> 

```scss
[ì‚­ì œ ì „]
  "data.txt" â†’ inode #42

File.delete()  â†’ unlink()
FileOutputStream("data.txt") â†’ open(O_CREAT)
[ì‚­ì œ í›„]
  "data.txt" â†’ inode #77
```

ì¦‰,

ê²½ë¡œëŠ” ê°™ì•„ë„ íŒŒì¼ì€ ì™„ì „ížˆ ìƒˆ ê°ì²´ (ìƒˆ inode, ìƒˆ fd).

ì´ì „ íŒŒì¼ì€ ì™„ì „ížˆ ë…ë¦½ì ì¸ ì¡´ìž¬ì˜€ìŒ.

---

## âš™ï¸ 5. File.renameTo(), File.exists() ë“±ë„ ë©”íƒ€ë°ì´í„° ì¡°ìž‘

| ë©”ì„œë“œ | ë‚´ë¶€ syscall | ì˜ë¯¸ | ë””ìŠ¤í¬ I/O |
| --- | --- | --- | --- |
| `renameTo()` | `rename()` | inode ì—°ê²° ë³€ê²½ (ë°ì´í„° ì´ë™ ì—†ìŒ) | âŒ |
| `exists()` | `stat()` | íŒŒì¼ ìƒíƒœ ì¡°íšŒ | âŒ |
| `length()` | `stat()` | inodeì˜ size í•„ë“œ ì¡°íšŒ | âŒ |
| `mkdir()` | `mkdir()` | ë””ë ‰í„°ë¦¬ ì—”íŠ¸ë¦¬ ìƒì„± | âŒ |
| `setReadable()` | `chmod()` | ê¶Œí•œ ë¹„íŠ¸ ë³€ê²½ | âŒ |
| `delete()` | `unlink()` | ë””ë ‰í„°ë¦¬ ì—”íŠ¸ë¦¬ ì œê±° | âŒ |

ðŸ’¡ ì´ë“¤ì€ ëª¨ë‘ **ì»¤ë„ ë©”ëª¨ë¦¬ ë‚´ íŒŒì¼ì‹œìŠ¤í…œ êµ¬ì¡°(VFS layer)** ì¡°ìž‘ì´ë¼,

**ìŠ¤ë ˆë“œ ë¸”ë¡œí‚¹ ì—†ì´ ì¦‰ì‹œ ë°˜í™˜**ë©ë‹ˆë‹¤.

---

## ðŸ§± 6. Fileê³¼ Streamì˜ ê³„ì¸µ êµ¬ì¡° (ìš”ì•½ ë‹¤ì´ì–´ê·¸ëž¨)

```
java.io.File         â†’ íŒŒì¼ ì´ë¦„ / ê²½ë¡œ / ì¡´ìž¬ ì—¬ë¶€ (ë©”íƒ€ë°ì´í„°)
java.io.FileInputStream  â†’ íŒŒì¼ ë‚´ìš© ì½ê¸° (read(fd))
java.io.FileOutputStream â†’ íŒŒì¼ ë‚´ìš© ì“°ê¸° (write(fd))
java.nio.file.Files      â†’ ê³ ê¸‰ íŒŒì¼ ì¡°ìž‘ (ë³µì‚¬, ì´ë™, ê¶Œí•œ ë“±)
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Application (Java)          â”‚
â”‚  â”œâ”€ File (metadata)         â”‚
â”‚  â”œâ”€ FileInputStream (read)  â”‚
â”‚  â”œâ”€ FileOutputStream (write)â”‚
â”‚  â””â”€ Files / Path (NIO2)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ syscalls
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OS Kernel (VFS Layer)   â”‚
â”‚  â”œâ”€ stat() / unlink()   â”‚
â”‚  â”œâ”€ read() / write()    â”‚
â”‚  â””â”€ rename() / chmod()  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ File System (ext4, APFS)â”‚
â”‚  â”œâ”€ inode / dentry      â”‚
â”‚  â””â”€ data blocks         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš™ï¸ 7. I/O ë°œìƒ ì—¬ë¶€ ì •ë¦¬

| ìž‘ì—… | I/O ë°œìƒ | ì´ìœ  |
| --- | --- | --- |
| `File.delete()` | âŒ | inode unlink (metadata ì¡°ìž‘) |
| `File.renameTo()` | âŒ | ë””ë ‰í„°ë¦¬ ì—”íŠ¸ë¦¬ë§Œ ìˆ˜ì • |
| `File.length()` | âŒ | inode ë©”íƒ€ë°ì´í„° ì¡°íšŒ |
| `FileInputStream.read()` | âœ… | íŒŒì¼ ë°ì´í„° ì½ê¸° |
| `FileOutputStream.write()` | âœ… | íŒŒì¼ ë°ì´í„° ì“°ê¸° |
| `FileOutputStream.fd.sync()` | âœ… | ì»¤ë„ Page Cache â†’ ë””ìŠ¤í¬ flush |

---

## âœ… 8. ê²°ë¡  ìš”ì•½

| êµ¬ë¶„ | ì±…ìž„ | ì‹¤ì œ ë™ìž‘ | ë””ìŠ¤í¬ ì ‘ê·¼ |
| --- | --- | --- | --- |
| **File** | íŒŒì¼ ì¡´ìž¬Â·ì´ë¦„Â·ê¶Œí•œÂ·ì‚­ì œ ë“± ê´€ë¦¬ | OS íŒŒì¼ì‹œìŠ¤í…œ ë©”íƒ€ë°ì´í„° ì¡°ìž‘ (`stat`, `unlink`, `rename`) | âŒ ì—†ìŒ |
| **FileInputStream / FileOutputStream** | íŒŒì¼ ë‚´ìš© ì½ê¸°/ì“°ê¸° | `read(fd)`, `write(fd)` syscall | âœ… ìžˆìŒ |
| **BufferedOutputStream** | I/O ì„±ëŠ¥ ìµœì í™” | JVM ë²„í¼ â†’ OS Page Cache | âœ… ìžˆìŒ |
| **FileDescriptor.sync()** | ë””ìŠ¤í¬ ê¸°ë¡ ë³´ìž¥ | `fsync(fd)` í˜¸ì¶œ | âœ… ë””ìŠ¤í¬ flush |

> ðŸ’¬ ì¦‰,
> 
> - **File ê³„ì—´ì€ "íŒŒì¼ì˜ ì¡´ìž¬"ë¥¼ ë‹¤ë£¨ëŠ” ë ˆë²¨ (ë©”íƒ€ë°ì´í„° ì¡°ìž‘)**
> - **Stream ê³„ì—´ì€ "íŒŒì¼ì˜ ë‚´ìš©"ì„ ë‹¤ë£¨ëŠ” ë ˆë²¨ (ë°ì´í„° I/O)**
> 
> File.delete()ë‚˜ renameTo()ëŠ” ì»¤ë„ ë‚´ë¶€ì—ì„œ ì´ë¦„ë§Œ ìˆ˜ì •í•˜ë©°,
> 
> ì‹¤ì œ ë””ìŠ¤í¬ ë¸”ë¡ í•´ì œë‚˜ ê¸°ë¡ì€ ì»¤ë„ì´ ë‚˜ì¤‘ì— ì²˜ë¦¬í•©ë‹ˆë‹¤.
>
