# Claude Code 커스텀 페르소나 Agent 만들기 가이드

## 개요

Claude Code에서 커스텀 Slash Command를 만들면 반복 작업을 템플릿화하거나,
특정 페르소나 기반으로 분석/리뷰를 수행할 수 있다.

## 파일 위치

| 위치 | 범위 |
|------|------|
| `.claude/commands/` | 현재 프로젝트에서만 사용 |
| `~/.claude/commands/` | 모든 프로젝트에서 사용 |

파일명이 곧 명령어 이름이 된다.
예: `~/.claude/commands/economist.md` → `/economist`

## 파일 구조

### 기본 형태

```md
분석할 때 이런 기준으로 해줘.
이런 관점에서 확인해줘.
```

### YAML 프론트매터 포함

```md
---
description: 명령어 설명
allowed-tools: Read, Grep, Glob, Bash
argument-hint: [인자 설명]
---

명령어 본문 내용
```

### 프론트매터 옵션

| 옵션 | 설명 |
|------|------|
| `description` | 명령어 설명 (목록에 표시됨) |
| `allowed-tools` | 사용 허용할 도구 목록 |
| `argument-hint` | 인자 힌트 표시 |

## 특수 문법

| 문법 | 설명 | 예시 |
|------|------|------|
| `$1`, `$2` | 인자 참조 | `이슈 #$1 을 수정해줘` |
| `@파일경로` | 파일 내용 삽입 | `@package.json` |
| `` !`명령어` `` | 셸 명령 결과 삽입 | `` !`git status` `` |

## 예시: 경제분석 전문가 페르소나

`~/.claude/commands/economist.md`

```md
---
description: 경제분석 전문가 관점 검토
argument-hint: [분석할 내용이나 파일]
---

너는 거시경제 및 산업분석 전문가(15년 경력)야.

다음 원칙으로 분석해줘:
- 경제 지표 간 인과관계와 상관관계를 구분
- 단기/중기/장기 영향을 나눠서 분석
- 리스크 요인과 기회 요인을 균형있게 제시
- 수치와 근거 기반으로 판단

분석 대상: $1
```

사용:

```
> /economist 한국 반도체 산업의 2026년 전망을 분석해줘
> /economist @report.md 이 보고서의 경제 분석이 타당한지 검토해줘
```

## 페르소나 vs 항상 적용 원칙

| 상황 | 방법 |
|------|------|
| 항상 같은 관점으로 적용 | 프로젝트 루트 `CLAUDE.md`에 작성 |
| 상황마다 다른 전문가 관점 필요 | Slash Command 여러 개 생성 |
| 둘 다 | `CLAUDE.md`에 기본 원칙 + Slash Command로 전문 페르소나 |

## 주의사항

- Slash Command는 자동 실행되지 않는다. 반드시 `/명령어`로 직접 호출해야 한다.
- 일반 대화에서는 호출되지 않는다.
- 파일 생성 후 Claude Code 세션을 재시작하면 자동으로 인식된다.
